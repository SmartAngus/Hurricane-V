{"ast":null,"code":"var _jsxFileName = \"/Users/majy/work/bici/code/editor-demo/src/features/editor/common/EditorNode.tsx\";\n\n/**\n * @file 业务组件，基于Node的组件卡片\n * @author perkinJ\n */\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport { Menu } from \"antd\";\nimport { Node as NodeContainer } from \"../components\";\nimport { ContextMenu } from \"./ContextMenu\";\nimport { OperateType } from \"../constants/defines\";\nimport { useClickAway } from \"../hooks/useClickAway\";\nimport \"./EditorNode.scss\";\nimport CapsuleChart from \"../components/charts/capsuleChart\";\nconst {\n  useState,\n  useRef,\n  useMemo,\n  useCallback\n} = React;\n\nclass EditorNodeProps {\n  constructor() {\n    this.id = void 0;\n    this.currentNode = void 0;\n    this.onSelect = void 0;\n    this.onContextMenu = void 0;\n    this.isCompleted = void 0;\n    this.hasError = void 0;\n    this.isSelected = void 0;\n    this.isDragged = void 0;\n    this.onClick = void 0;\n    this.interactive = void 0;\n    this.currTrans = void 0;\n    this.showSelector = void 0;\n    this.nodeRef = void 0;\n    this.onResize = void 0;\n  }\n\n}\n/**\n * 获取元素相对于页面的绝对位置\n */\n\n\nexport function getOffset(domNode) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n\n  while (targetDomNode !== window.document.body && targetDomNode != null) {\n    offsetLeft += targetDomNode.offsetLeft;\n    offsetTop += targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\nexport function EditorNode(props) {\n  const {\n    currentNode,\n    onSelect,\n    isSelected,\n    isDragged,\n    onClick,\n    interactive = true,\n    currTrans,\n    nodeRef,\n    onResize,\n    showSelector,\n    id\n  } = props; // 组件内状态，与业务无关\n\n  const [menuShow, setMenuShow] = useState(false);\n  const [menuPos, setMenuPos] = useState({\n    left: 0,\n    top: 0\n  });\n  useClickAway(() => {\n    setMenuShow(false);\n  }, () => document.querySelector(\".editorNode-box-menu\"), \"contextmenu\");\n  const menuRef = useClickAway(() => {\n    setMenuShow(false);\n  });\n  const editorNodeRef = useRef(null);\n  console.log('currentNode,', currentNode); // const [pos, setPos] = useState(initPos);\n  // 边框颜色\n\n  let borderColor = \"\";\n\n  if (isSelected) {\n    borderColor = `selected ${currentNode.key}-clicked ${currentNode.key}-border`;\n  } else {\n    borderColor = `${currentNode.key}-border`;\n  } // 是否是圆形\n\n\n  const isCircle = currentNode.key === \"circle\"; // 是否为圆角\n\n  const isRadius = currentNode.key === 'rectRadius'; // 是否为菱形\n\n  const isDiamond = currentNode.key === 'diamond';\n  const borderClass = classNames(\"editorNode-box\", borderColor, {\n    dragging: isDragged\n  }, {\n    \"editorNode-circle\": isCircle\n  }, {\n    \"editorNode-rectRadius\": isRadius\n  });\n  const menuList = [{\n    name: \"删除\",\n    key: OperateType.delete,\n    disabled: false\n  }];\n\n  const onContextMenu = (position, event) => {\n    event.stopPropagation();\n    event.preventDefault(); // 根据业务场景处理菜单的位置\n\n    const newPosition = {\n      left: position.left,\n      top: position.top\n    };\n    setMenuPos(newPosition);\n    setMenuShow(true);\n\n    if (props.onContextMenu) {\n      props.onContextMenu(event);\n    }\n  };\n  /** 点击菜单项 */\n\n\n  const handleClickMenu = ({\n    key\n  }) => {\n    onSelect(currentNode, key);\n    setMenuShow(false);\n  };\n  /** 点击组件 */\n\n\n  const handleClickNode = useCallback(event => {\n    if (interactive && onClick) {\n      onClick(currentNode, event);\n    }\n  }, [interactive, onClick, currentNode]);\n  console.log(\"currentNode==\", currentNode);\n  return /*#__PURE__*/React.createElement(NodeContainer, {\n    id: currentNode.id,\n    x: currentNode.x,\n    y: currentNode.y,\n    width: currentNode.width,\n    height: currentNode.height,\n    currTrans: currTrans,\n    ref: nodeRef,\n    isSelected: isSelected,\n    onClick: handleClickNode,\n    onResize: onResize,\n    onContextMenu: interactive ? onContextMenu : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editorNode\",\n    ref: editorNodeRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: borderClass,\n    style: {\n      transform: isDiamond ? `rotateZ(45deg) skew(30deg,30deg)` : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editorNode-box-property\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editorNode-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CapsuleChart, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editorNode-box-menu\",\n    ref: menuRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ContextMenu, {\n    id: currentNode.id,\n    visible: menuShow,\n    left: menuPos.left,\n    top: menuPos.top,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    getPopupContainer: triggerNode => triggerNode.parentNode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  }, menuList.map(child => {\n    return /*#__PURE__*/React.createElement(Menu.Item, {\n      key: child.key,\n      onClick: handleClickMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, child.name);\n  })))))));\n}","map":{"version":3,"sources":["/Users/majy/work/bici/code/editor-demo/src/features/editor/common/EditorNode.tsx"],"names":["React","classNames","Menu","Node","NodeContainer","ContextMenu","OperateType","useClickAway","CapsuleChart","useState","useRef","useMemo","useCallback","EditorNodeProps","id","currentNode","onSelect","onContextMenu","isCompleted","hasError","isSelected","isDragged","onClick","interactive","currTrans","showSelector","nodeRef","onResize","getOffset","domNode","offsetTop","offsetLeft","targetDomNode","window","document","body","offsetParent","EditorNode","props","menuShow","setMenuShow","menuPos","setMenuPos","left","top","querySelector","menuRef","editorNodeRef","console","log","borderColor","key","isCircle","isRadius","isDiamond","borderClass","dragging","menuList","name","delete","disabled","position","event","stopPropagation","preventDefault","newPosition","handleClickMenu","handleClickNode","x","y","width","height","transform","triggerNode","parentNode","map","child"],"mappings":"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","sourcesContent":["/**\n * @file 业务组件，基于Node的组件卡片\n * @author perkinJ\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport { Menu } from \"antd\";\nimport { Node as NodeContainer } from \"../components\";\nimport { ContextMenu } from \"./ContextMenu\";\nimport { Node, OperateType } from \"../constants/defines\";\nimport { useClickAway } from \"../hooks/useClickAway\";\nimport \"./EditorNode.scss\";\nimport CapsuleChart from \"../components/charts/capsuleChart\";\n\nconst { useState, useRef, useMemo, useCallback } = React;\n\nclass EditorNodeProps {\n  /** 唯一id，用于Contextmenu展示 */\n  id?: string;\n\n  /** 节点信息 */\n  currentNode: Node;\n\n  /** 选择菜单栏 */\n  onSelect?: (currentNode: Node, key: any) => void;\n\n  /** 右键组件 */\n  onContextMenu?: (event: React.MouseEvent<HTMLLIElement>) => void;\n\n  /** 是否属性设置完全 */\n  isCompleted?: boolean;\n\n  /** 是否有错误数据 */\n  hasError?: boolean;\n\n  /** 是否被点击 */\n  isSelected?: boolean;\n\n  /** 是否被拖拽 */\n  isDragged?: boolean;\n\n  /** 点击卡片 */\n  onClick?: (currentNode: Node, event: any) => void;\n\n  /** 是否可交互，区分展示型和交互型 */\n  interactive?: boolean;\n\n  /** 外部容器的缩放情况 */\n  currTrans?: any;\n\n  /** 显示选择器 */\n  showSelector?: boolean;\n\n  /** Node容器的ref */\n  nodeRef: any;\n\n  /** 改变节点大小 */\n  onResize?: (width: number, height: number, x: number, y: number) => void;\n}\n\n/**\n * 获取元素相对于页面的绝对位置\n */\nexport function getOffset(domNode: any) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n  while (targetDomNode !== window.document.body && targetDomNode != null) {\n    offsetLeft += targetDomNode.offsetLeft;\n    offsetTop += targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\n\nexport function EditorNode(props: EditorNodeProps) {\n  const {\n    currentNode,\n    onSelect,\n    isSelected,\n    isDragged,\n    onClick,\n    interactive = true,\n    currTrans,\n    nodeRef,\n    onResize,\n    showSelector,\n    id\n  } = props;\n  // 组件内状态，与业务无关\n  const [menuShow, setMenuShow] = useState(false);\n  const [menuPos, setMenuPos] = useState({ left: 0, top: 0 });\n\n  useClickAway(\n    () => {\n      setMenuShow(false);\n    },\n    () => document.querySelector(\".editorNode-box-menu\"),\n    \"contextmenu\"\n  );\n\n  const menuRef = useClickAway(() => {\n    setMenuShow(false);\n  });\n\n  const editorNodeRef = useRef(null);\n  console.log('currentNode,',currentNode)\n\n  // const [pos, setPos] = useState(initPos);\n  // 边框颜色\n  let borderColor = \"\";\n  if (isSelected) {\n    borderColor = `selected ${currentNode.key}-clicked ${\n      currentNode.key\n    }-border`;\n  } else {\n    borderColor = `${currentNode.key}-border`;\n  }\n\n  // 是否是圆形\n  const isCircle = currentNode.key === \"circle\";\n\n  // 是否为圆角\n  const isRadius = currentNode.key === 'rectRadius';\n\n  // 是否为菱形\n  const isDiamond = currentNode.key === 'diamond';\n\n  const borderClass = classNames(\n    \"editorNode-box\",\n    borderColor,\n    {\n      dragging: isDragged\n    },\n    { \"editorNode-circle\": isCircle },\n    { \"editorNode-rectRadius\": isRadius},\n  );\n\n  const menuList = [\n    {\n      name: \"删除\",\n      key: OperateType.delete,\n      disabled: false\n    }\n  ];\n\n  const onContextMenu = (\n    position: { left: number; top: number },\n    event: React.MouseEvent<any>\n  ) => {\n    event.stopPropagation();\n    event.preventDefault();\n    // 根据业务场景处理菜单的位置\n    const newPosition = {\n      left: position.left,\n      top: position.top\n    };\n    setMenuPos(newPosition);\n    setMenuShow(true);\n    if (props.onContextMenu) {\n      props.onContextMenu(event);\n    }\n  };\n\n  /** 点击菜单项 */\n  const handleClickMenu = ({ key }) => {\n    onSelect(currentNode, key);\n    setMenuShow(false);\n  };\n\n  /** 点击组件 */\n  const handleClickNode = useCallback(\n    event => {\n      if (interactive && onClick) {\n        onClick(currentNode, event);\n      }\n    },\n    [interactive, onClick, currentNode]\n  );\n  console.log(\"currentNode==\",currentNode)\n  return (\n    <NodeContainer\n      id={currentNode.id}\n      x={currentNode.x}\n      y={currentNode.y}\n      width={currentNode.width}\n      height={currentNode.height}\n      currTrans={currTrans}\n      ref={nodeRef}\n      isSelected={isSelected}\n      onClick={handleClickNode}\n      onResize={onResize}\n      onContextMenu={interactive ? onContextMenu : null}\n    >\n      <div className=\"editorNode\" ref={editorNodeRef}>\n        <div className={borderClass} style={ { transform: isDiamond?`rotateZ(45deg) skew(30deg,30deg)`: 'none'}}>\n          <div className=\"editorNode-box-property\">\n            <div className=\"editorNode-name\">\n              <CapsuleChart/>\n            </div>\n          </div>\n          <div className=\"editorNode-box-menu\" ref={menuRef}>\n            <ContextMenu\n              id={currentNode.id}\n              visible={menuShow}\n              left={menuPos.left}\n              top={menuPos.top}\n            >\n              <Menu\n                getPopupContainer={(triggerNode: any) => triggerNode.parentNode}\n              >\n                {menuList.map(child => {\n                  return (\n                    <Menu.Item key={child.key} onClick={handleClickMenu}>\n                      {child.name}\n                    </Menu.Item>\n                  );\n                })}\n              </Menu>\n            </ContextMenu>\n          </div>\n        </div>\n      </div>\n    </NodeContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}