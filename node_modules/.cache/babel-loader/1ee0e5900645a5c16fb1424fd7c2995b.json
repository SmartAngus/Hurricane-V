{"ast":null,"code":"var _jsxFileName = \"/Users/majy/work/bici/code/editor-demo/src/features/editor/constants/defines.tsx\";\n\n/**\n * @file 管道画布常量定义\n */\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { BarChartOutlined, RadarChartOutlined } from \"@ant-design/icons\";\n// 组件卡片宽度高度\nexport const NODE_WIDTH = 220;\nexport const NODE_HEIGHT = 60; // 右边菜单栏宽度\n\nexport const MENU_WIDTH = 120;\nexport const MENU_HEIGHT = 196; // 右边抽屉宽度-通用\n\nexport const RIGHTDRAWER_WIDTH = 521; // 右边抽屉宽度-调度配置\n\nexport const SHECHEDULE_RIGHTDRAWER_WIDTH = 750; // 支持缩放的最大值跟最小值\n\nexport const MAX_SCALE = 200;\nexport const MIN_SCALE = 50; // 组件之间的间距\n\nexport const COMPONENT_DISTANCE = 30; // 全屏状态的坐标差,顶部导航到画布的距离\n\nexport const fullscreenDiffY = 130; // 顶部导航到画布的固定举例，用于计算Context\n\nexport const CONTEXT_HEIGHT_DIFF = 155; // 连接符\n\nexport const CONNECTOR = \"_\"; // 连线可连线的区域\n\nexport const LINK_AREA = 30; // 连线不同状态的颜色\n// 未连接状态\n\nexport const UNLINK = \"#52619b\"; // 选中状态\n\nexport const ACTIVE = \"#92ade3\"; // 连接状态\n\nexport const LINK = \"#b4bdcf\"; // 管道节点code为30，为固定值\n\nexport const operatorTypeCode = 30; // 组件库类型\n\nexport let ComponentType;\n\n(function (ComponentType) {\n  ComponentType[\"common\"] = \"common\";\n  ComponentType[\"self\"] = \"self\";\n})(ComponentType || (ComponentType = {}));\n\nexport const ComponentMap = {\n  [ComponentType.common]: \"通用\",\n  [ComponentType.self]: '图表'\n}; // 定义echarts表\n\nexport class EChart {\n  constructor() {\n    this.type = void 0;\n    this.component = void 0;\n    this.options = void 0;\n  }\n\n}\nexport class Node {\n  constructor() {\n    this.type = void 0;\n    this.key = void 0;\n    this.name = void 0;\n    this.icon = void 0;\n    this.x = void 0;\n    this.y = void 0;\n    this.width = void 0;\n    this.height = void 0;\n    this.id = void 0;\n    this.groupId = void 0;\n    this.ref = void 0;\n    this.distribute = void 0;\n    this.webConfig = void 0;\n    this.disabled = void 0;\n    this.chart = void 0;\n  }\n\n}\nexport class NodePanel {\n  constructor() {\n    this.type = void 0;\n    this.key = void 0;\n    this.name = void 0;\n    this.icon = void 0;\n    this.disabled = void 0;\n  }\n\n}\n// group padding\nexport const GROUP_PADDING = 20; // 连线中的icon，宽高\n\nexport const LINKICON_WIDTH = 18;\nexport const LINKICON_HEIGHT = 18;\nexport let ComponentKey; // 单元类型\n// 输入组件\n\n(function (ComponentKey) {\n  ComponentKey[\"rect\"] = \"rect\";\n  ComponentKey[\"rectRadius\"] = \"rectRadius\";\n  ComponentKey[\"circle\"] = \"circle\";\n  ComponentKey[\"diamond\"] = \"diamond\";\n  ComponentKey[\"polygon\"] = \"polygon\";\n  ComponentKey[\"ellipse\"] = \"ellipse\";\n  ComponentKey[\"star\"] = \"star\";\n})(ComponentKey || (ComponentKey = {}));\n\nconst COMMON_COMPONENT = [\n/** 矩形 */\n{\n  type: ComponentType.common,\n  key: ComponentKey.rect,\n  name: \"RECT\",\n  width: 100,\n  height: 100,\n  icon: /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 36,\n      height: 36,\n      border: \"2px solid #52619b\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }),\n  disabled: false\n},\n/** 矩形带圆角 */\n{\n  type: ComponentType.common,\n  key: ComponentKey.rectRadius,\n  name: \"RECT-RADIU\",\n  width: 100,\n  height: 100,\n  icon: /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 36,\n      height: 36,\n      border: \"2px solid #52619b\",\n      borderRadius: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }),\n  disabled: false\n},\n/** 圆形 */\n{\n  type: ComponentType.common,\n  key: ComponentKey.circle,\n  name: \"CIRCLE\",\n  width: 100,\n  height: 100,\n  icon: /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"72px\",\n    height: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"36\",\n    cy: \"20\",\n    r: \"18\",\n    stroke: \"#52619b\",\n    strokeWidth: \"2\",\n    fill: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  })),\n  disabled: false\n}]; // 自定义组件\n\nconst SELF_COMPONENT = [\n/** 星形 */\n{\n  type: ComponentType.self,\n  key: ComponentKey.star,\n  name: \"STAR\",\n  width: 100,\n  height: 100,\n  icon: /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflow: 'hidden',\n      width: '80px',\n      height: '80px',\n      padding: '0px',\n      opacity: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BarChartOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"controls-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, \"\\u4EEA\\u8868\\u76D8\")),\n  disabled: false\n},\n/** 饼图 */\n{\n  type: ComponentType.self,\n  key: ComponentKey.ellipse,\n  name: \"ellipse\",\n  width: 200,\n  height: 200,\n  icon: /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflow: 'hidden',\n      width: '80px',\n      height: '80px',\n      padding: '0px',\n      opacity: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RadarChartOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"controls-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  }, \"\\u997C\\u56FE\")),\n  disabled: false,\n  chart: {\n    type: 'pie',\n    component: 'capsuleChart'\n  }\n}]; // 组件库类目\n\nexport const COMPONENT_CATEGORY = {\n  [ComponentType.common]: COMMON_COMPONENT,\n  [ComponentType.self]: SELF_COMPONENT\n};\nexport const keyCodeMap = {\n  delete: 8,\n  copy: 67,\n  paste: 86\n};\n/** 处理弹窗全屏挂载 */\n\nexport function getContainer() {\n  const pipelineDoms = document.getElementsByClassName(\"pipeline-canvas\");\n  return _.find(pipelineDoms, dom => dom.offsetParent);\n}\n/**\n * @file 类型定义文件\n */\n\nclass MenuPos {\n  constructor() {\n    this.id = void 0;\n    this.x = void 0;\n    this.y = void 0;\n  }\n\n} // 节点宽高\n\n\nexport const VERTEX_WIDTH = 180;\nexport const VERTEX_HEIGHT = 32;\nexport { MenuPos }; // 操作类型\n\nexport let OperateType;\n\n(function (OperateType) {\n  OperateType[\"copy\"] = \"copy\";\n  OperateType[\"delete\"] = \"delete\";\n})(OperateType || (OperateType = {}));","map":{"version":3,"sources":["/Users/majy/work/bici/code/editor-demo/src/features/editor/constants/defines.tsx"],"names":["React","_","BarChartOutlined","RadarChartOutlined","NODE_WIDTH","NODE_HEIGHT","MENU_WIDTH","MENU_HEIGHT","RIGHTDRAWER_WIDTH","SHECHEDULE_RIGHTDRAWER_WIDTH","MAX_SCALE","MIN_SCALE","COMPONENT_DISTANCE","fullscreenDiffY","CONTEXT_HEIGHT_DIFF","CONNECTOR","LINK_AREA","UNLINK","ACTIVE","LINK","operatorTypeCode","ComponentType","ComponentMap","common","self","EChart","type","component","options","Node","key","name","icon","x","y","width","height","id","groupId","ref","distribute","webConfig","disabled","chart","NodePanel","GROUP_PADDING","LINKICON_WIDTH","LINKICON_HEIGHT","ComponentKey","COMMON_COMPONENT","rect","border","rectRadius","borderRadius","circle","SELF_COMPONENT","star","overflow","padding","opacity","ellipse","COMPONENT_CATEGORY","keyCodeMap","delete","copy","paste","getContainer","pipelineDoms","document","getElementsByClassName","find","dom","offsetParent","MenuPos","VERTEX_WIDTH","VERTEX_HEIGHT","OperateType"],"mappings":"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","sourcesContent":["/**\n * @file 管道画布常量定义\n */\n\nimport * as React from \"react\";\nimport * as _ from \"lodash\";\nimport { Icon } from \"antd\";\nimport {BarChartOutlined, RadarChartOutlined} from \"@ant-design/icons\"\nimport CapsuleChart from '../components/charts/capsuleChart'\n\n\n// 组件卡片宽度高度\nexport const NODE_WIDTH = 220;\nexport const NODE_HEIGHT = 60;\n\n// 右边菜单栏宽度\nexport const MENU_WIDTH = 120;\nexport const MENU_HEIGHT = 196;\n// 右边抽屉宽度-通用\nexport const RIGHTDRAWER_WIDTH = 521;\n// 右边抽屉宽度-调度配置\nexport const SHECHEDULE_RIGHTDRAWER_WIDTH = 750;\n\n// 支持缩放的最大值跟最小值\nexport const MAX_SCALE = 200;\nexport const MIN_SCALE = 50;\n\n// 组件之间的间距\nexport const COMPONENT_DISTANCE = 30;\n\n// 全屏状态的坐标差,顶部导航到画布的距离\nexport const fullscreenDiffY = 130;\n\n// 顶部导航到画布的固定举例，用于计算Context\nexport const CONTEXT_HEIGHT_DIFF = 155;\n\n// 连接符\nexport const CONNECTOR = \"_\";\n\n// 连线可连线的区域\nexport const LINK_AREA = 30;\n\n// 连线不同状态的颜色\n// 未连接状态\nexport const UNLINK = \"#52619b\";\n// 选中状态\nexport const ACTIVE = \"#92ade3\";\n// 连接状态\nexport const LINK = \"#b4bdcf\";\n\n// 管道节点code为30，为固定值\nexport const operatorTypeCode = 30;\n\n// 组件库类型\nexport enum ComponentType {\n    /** 通用 */\n    common = \"common\",\n    /** 自定义 */\n    self = 'self'\n}\n\nexport const ComponentMap: Record<ComponentType, string> = {\n    [ComponentType.common]: \"通用\",\n    [ComponentType.self]: '图表'\n};\n\n// 定义echarts表\nexport class EChart {\n    type!: string;\n    component!:string;\n    options?:any;\n}\n\nexport class Node {\n    /** 组件分类类型 */\n    type?: string;\n\n    /** 组件key */\n    key!: string;// ! 为非空断言\n\n    /** 组件名称 */\n    name!: string;\n\n    /** 组件icon */\n    icon?: React.ReactNode;\n\n    /** 组件在画布中的横坐标 */\n    x?: number;\n\n    /** 组件在画布中的纵坐标 */\n    y?: number;\n\n    width?: number;\n\n    height?: number;\n\n    id?: string;\n\n    groupId?: string;\n\n    /** 对应的 ref */\n    ref?: any;\n\n    /** 数据分发方式, true:轮流 false:copy */\n    distribute?: boolean;\n\n    /** 其他配置信息 */\n    webConfig?: {};\n\n    disabled?: boolean;\n    /** 定义描述node里面包含的图表 */\n    chart?:EChart;\n}\n\nexport class NodePanel {\n    type!: string;\n\n    key!: string;\n\n    name!: string;\n\n    icon!: React.ReactNode;\n\n    disabled!: boolean;\n}\n\nexport type LINK_POSITION = \"left\" | \"right\" | \"top\" | \"bottom\";\n\nexport interface Link {\n    /** 连线的唯一id, source+CONNECTOR+target的形式 */\n    id: string;\n    /** 来源节点id */\n    source: string;\n    /** 去向节点id */\n    target: string;\n    /** 来源节点位置 */\n    sourcePos?: string;\n    /** 去向节点位置 */\n    targetPos?: string;\n}\n\nexport interface Group {\n    /** 组的id */\n    id: string;\n    /** 组在画布中的横坐标 */\n    x: number;\n\n    /** 组在画布中的纵坐标 */\n    y: number;\n\n    width: number;\n\n    height: number;\n\n    /** 包含的节点id */\n    nodes?: Node[];\n\n    /** 对应的 ref */\n    ref?: any;\n\n    /** 父级 */\n    parentId?: string;\n\n    /** 其他信息 */\n    extraInfo?: any;\n}\n\n// group padding\nexport const GROUP_PADDING = 20;\n\n// 连线中的icon，宽高\nexport const LINKICON_WIDTH = 18;\nexport const LINKICON_HEIGHT = 18;\n\nexport enum ComponentKey {\n    rect = \"rect\",\n    rectRadius = \"rectRadius\",\n    circle = \"circle\",\n    diamond = \"diamond\",\n    polygon = \"polygon\",\n    ellipse = \"ellipse\",\n    star = \"star\"\n}\n\n// 单元类型\n// 输入组件\nconst COMMON_COMPONENT: Node[] = [\n    /** 矩形 */\n    {\n        type: ComponentType.common,\n        key: ComponentKey.rect,\n        name: \"RECT\",\n        width: 100,\n        height: 100,\n        icon: (\n            <div style={{ width: 36, height: 36, border: \"2px solid #52619b\" }} />\n        ),\n        disabled: false\n    },\n    /** 矩形带圆角 */\n    {\n        type: ComponentType.common,\n        key: ComponentKey.rectRadius,\n        name: \"RECT-RADIU\",\n        width: 100,\n        height: 100,\n        icon: (\n            <div\n                style={{\n                    width: 36,\n                    height: 36,\n                    border: \"2px solid #52619b\",\n                    borderRadius: 10\n                }}\n            />\n        ),\n        disabled: false\n    },\n    /** 圆形 */\n    {\n        type: ComponentType.common,\n        key: ComponentKey.circle,\n        name: \"CIRCLE\",\n        width: 100,\n        height: 100,\n        icon: (\n            <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                version=\"1.1\"\n                width=\"72px\"\n                height=\"40px\"\n            >\n                <circle\n                    cx=\"36\"\n                    cy=\"20\"\n                    r=\"18\"\n                    stroke=\"#52619b\"\n                    strokeWidth=\"2\"\n                    fill=\"transparent\"\n                />\n            </svg>\n        ),\n        disabled: false\n    }\n];\n// 自定义组件\nconst SELF_COMPONENT: Node[] = [\n    /** 星形 */\n    {\n        type: ComponentType.self,\n        key: ComponentKey.star,\n        name: \"STAR\",\n        width: 100,\n        height: 100,\n        icon: (\n            <div\n                style={{\n                    overflow: 'hidden',\n                    width: '80px',\n                    height: '80px',\n                    padding: '0px',\n                    opacity: 1\n                }}\n            >\n                <BarChartOutlined/>\n                <div className=\"controls-title\">仪表盘</div>\n            </div>\n        ),\n        disabled: false\n    },\n    /** 饼图 */\n    {\n        type: ComponentType.self,\n        key: ComponentKey.ellipse,\n        name: \"ellipse\",\n        width: 200,\n        height: 200,\n        icon: (\n            <div\n                style={{\n                    overflow: 'hidden',\n                    width: '80px',\n                    height: '80px',\n                    padding: '0px',\n                    opacity: 1\n                }}\n            >\n                <RadarChartOutlined />\n                <div className=\"controls-title\">饼图</div>\n            </div>\n        ),\n        disabled: false,\n        chart:{\n            type: 'pie',\n            component: 'capsuleChart',\n        }\n    }\n]\n\n// 组件库类目\nexport const COMPONENT_CATEGORY: Record<ComponentType, Node[]> = {\n    [ComponentType.common]: COMMON_COMPONENT,\n    [ComponentType.self]: SELF_COMPONENT\n};\n\nexport const keyCodeMap = {\n    delete: 8,\n    copy: 67,\n    paste: 86\n};\n\n/** 处理弹窗全屏挂载 */\nexport function getContainer() {\n    const pipelineDoms = document.getElementsByClassName(\"pipeline-canvas\");\n    return _.find(\n        pipelineDoms,\n        dom => (dom as HTMLElement).offsetParent\n    ) as HTMLElement;\n}\n\n/**\n * @file 类型定义文件\n */\nclass MenuPos {\n    id?: string;\n\n    x!: number;\n\n    y!: number;\n}\n\n// 节点宽高\nexport const VERTEX_WIDTH = 180;\nexport const VERTEX_HEIGHT = 32;\n\nexport { MenuPos };\n\n// 操作类型\nexport enum OperateType {\n    copy = \"copy\",\n    delete = \"delete\"\n}\n"]},"metadata":{},"sourceType":"module"}