{"ast":null,"code":"/**\n * @file demo公共方法\n * @author perkinJ\n */\n\n/**\n * 全屏某一个元素\n * @param element\n */\nfunction launchFullscreen(element) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  }\n}\n/**\n * 退出全屏\n */\n\n\nfunction exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  }\n}\n/**\n * 判断是否处于全屏状态\n */\n\n\nfunction isFull() {\n  const doc = document;\n  return doc.fullscreenElement || doc.webkitFullscreenElement;\n}\n/**\n * 获取元素相对于页面的绝对位置\n */\n\n\nfunction getOffset(domNode) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n\n  while (targetDomNode !== window.document.body && targetDomNode != null) {\n    offsetLeft = offsetLeft + targetDomNode.offsetLeft;\n    offsetTop = offsetTop + targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\n\nexport { launchFullscreen, exitFullscreen, isFull, getOffset };","map":{"version":3,"sources":["/Users/majy/work/bici/code/editor-demo/src/features/utils.tsx"],"names":["launchFullscreen","element","requestFullscreen","mozRequestFullScreen","msRequestFullscreen","webkitRequestFullscreen","exitFullscreen","document","webkitExitFullscreen","isFull","doc","fullscreenElement","webkitFullscreenElement","getOffset","domNode","offsetTop","offsetLeft","targetDomNode","window","body","offsetParent"],"mappings":"AAAA;;;;;AAKA;;;;AAIA,SAASA,gBAAT,CAA0BC,OAA1B,EAAwC;AACtC,MAAIA,OAAO,CAACC,iBAAZ,EAA+B;AAC7BD,IAAAA,OAAO,CAACC,iBAAR;AACD,GAFD,MAEO,IAAID,OAAO,CAACE,oBAAZ,EAAkC;AACvCF,IAAAA,OAAO,CAACE,oBAAR;AACD,GAFM,MAEA,IAAIF,OAAO,CAACG,mBAAZ,EAAiC;AACtCH,IAAAA,OAAO,CAACG,mBAAR;AACD,GAFM,MAEA,IAAIH,OAAO,CAACI,uBAAZ,EAAqC;AAC1CJ,IAAAA,OAAO,CAACI,uBAAR;AACD;AACF;AACD;;;;;AAGA,SAASC,cAAT,GAA0B;AACxB,MAAIC,QAAQ,CAACD,cAAb,EAA6B;AAC3BC,IAAAA,QAAQ,CAACD,cAAT;AACD,GAFD,MAEO,IAAIC,QAAQ,CAACD,cAAb,EAA6B;AAClCC,IAAAA,QAAQ,CAACD,cAAT;AACD,GAFM,MAEA,IAAKC,QAAD,CAAkBC,oBAAtB,EAA4C;AAChDD,IAAAA,QAAD,CAAkBC,oBAAlB;AACD;AACF;AAED;;;;;AAGA,SAASC,MAAT,GAAkB;AAChB,QAAMC,GAAG,GAAGH,QAAZ;AACA,SAAOG,GAAG,CAACC,iBAAJ,IAAyBD,GAAG,CAACE,uBAApC;AACD;AAED;;;;;AAGA,SAASC,SAAT,CAAmBC,OAAnB,EAAiC;AAC/B,MAAIC,SAAS,GAAG,CAAhB;AACA,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,aAAa,GAAGH,OAApB;;AACA,SAAOG,aAAa,KAAKC,MAAM,CAACX,QAAP,CAAgBY,IAAlC,IAA0CF,aAAa,IAAI,IAAlE,EAAwE;AACtED,IAAAA,UAAU,GAAGA,UAAU,GAAGC,aAAa,CAACD,UAAxC;AACAD,IAAAA,SAAS,GAAGA,SAAS,GAAGE,aAAa,CAACF,SAAtC;AACAE,IAAAA,aAAa,GAAGA,aAAa,CAACG,YAA9B;AACD;;AACD,SAAO;AACLL,IAAAA,SADK;AAELC,IAAAA;AAFK,GAAP;AAID;;AAED,SAAShB,gBAAT,EAA2BM,cAA3B,EAA2CG,MAA3C,EAAmDI,SAAnD","sourcesContent":["/**\n * @file demo公共方法\n * @author perkinJ\n */\n\n/**\n * 全屏某一个元素\n * @param element\n */\nfunction launchFullscreen(element: any) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  }\n}\n/**\n * 退出全屏\n */\nfunction exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if ((document as any).webkitExitFullscreen) {\n    (document as any).webkitExitFullscreen();\n  }\n}\n\n/**\n * 判断是否处于全屏状态\n */\nfunction isFull() {\n  const doc = document as any;\n  return doc.fullscreenElement || doc.webkitFullscreenElement;\n}\n\n/**\n * 获取元素相对于页面的绝对位置\n */\nfunction getOffset(domNode: any) {\n  let offsetTop = 0;\n  let offsetLeft = 0;\n  let targetDomNode = domNode;\n  while (targetDomNode !== window.document.body && targetDomNode != null) {\n    offsetLeft = offsetLeft + targetDomNode.offsetLeft;\n    offsetTop = offsetTop + targetDomNode.offsetTop;\n    targetDomNode = targetDomNode.offsetParent;\n  }\n  return {\n    offsetTop,\n    offsetLeft\n  };\n}\n\nexport { launchFullscreen, exitFullscreen, isFull, getOffset };\n"]},"metadata":{},"sourceType":"module"}